[返回目录](ch0.md)  
[返回本书文章列表](../../../booklist/python/ch1.md) 

# 《看漫画学Python》学习笔记（三）——运算符

    本文内容是基于《看漫画学Python：有趣、有料、好玩、好用（全彩版）》的学习笔记


## 文章导图

![文章导图](https://cdn.jsdelivr.net/gh/13812700839/MyImageBed/article/booknote/python/CAT1/ch3/ch3-1.png "文章导图")

## 目录

1. [什么是运算符](#1)
2. [算数运算符](#2)
    1. [一元运算符](#2-1)
    2. [二元运算符](#2-2)
4. [比较运算符](#3)
5. [逻辑运算符](#4)
6. [位运算符](#5)
7. [赋值运算符](#6)
8. [运算符的优先级](#7)

## 1. 什么是运算符<a name="1"></a>

运算符能够把数据串联起来，形成表达式，并计算返回结果

## 2. 算数运算符<a name="2"></a>

能够连接整数类型和浮点类型数据的运算符是算数运算符，分为一元运算符和二元运算符

### 1. 一元运算符<a name="2-1"></a>

一元运算符有：$+$（正号）和$-$（减号）。

示例代码如下：

```python
num = 3
print(+num)
# 3
print(-num)
# -3
```

### 2. 二元运算符<a name="2-2"></a>

二元运算符如下表所示：

| 名称 | 运算符 | 说明              | 示例         |
|:--:|:---:|:---------------:|:----------:|
| 加  | +   | 左操作数和右操作数的和     | 1 + 1 = 2  |
| 减  | -   | 左操作数和右操作数的差     | 1 - 1 = 0  |
| 乘  | *   | 左操作数和右操作数的积     | 1 * 1 =1   |
| 除  | /   | 左操作数除右操作数的商     | 4 / 2 = 2  |
| 取余 | %   | 左操作数除右操作数的余数    | 5 % 2 = 1  |
| 幂  | **  | 左操作数的右操作数次幂     | 2 ** 3 = 8 |
| 整除 | //  | 左操作数除右操作数的商取整数位 | 6 // 4 = 1 |

示例代码如下：

```python
num1 = 6
num2 = 4
print(num1 + num2)
# 10
print(num1 - num2)
# 2
print(num1 * num2)
# 24
print(num1 / num2)
# 1.5
print(num1 % num2)
# 2
print(num1 ** num2)
# 1296
print(num1 // num2)
# 1
```

## 3. 比较运算符<a name="3"></a>

用于比较两个表达式的大小的运算符是比较运算符，其返回结果为布尔类型数据。  
两个表达式的类型要能够相互兼容，即进行隐式转换。  
比较运算符如下表所示：

| 名称   | 运算符 | 说明                            | 示例           |
|:----:|:---:|:-----------------------------:|:------------:|
| 等于   | ==  | 左操作数等于右操作数时返回True，否则返回False   | num1 == num2 |
| 不等于  | !=  | 左操作数不等于右操作数时返回True，否则返回False  | num1 != num2 |
| 大于   | \>  | 左操作数大于右操作数时返回True，否则返回False   | num1 > num2  |
| 小于   | <   | 左操作数小于右操作数时返回True，否则返回False   | num1 < num2  |
| 大于等于 | \>= | 左操作数大于等于右操作数时返回True，否则返回False | num1 >= num2 |
| 小于等于 | <=  | 左操作数小于等于右操作数时返回True，否则返回False | num1 <= num2 |

示例代码如下：

```python
# 等于 ==
print(3 == 3)
# True
print(3 == 4)
# False

# 不等于 !=
print(3 != 4)
# True
print(3 != 3)
# False

# 大于 >
print(3 > 4)
# False
print(6 > 4)
# True

# 小于 <
print(3 < 4)
# True
print(3 < 3)
# False

# 大于等于 >=
print(3 >= 4)
# False
print(3 >= 3)
# True

# 小于等于 <=
print(3 <= 3)
# True
print(3 <= 0)
# False
```

## 4. 逻辑运算符<a name="4"></a>

用于对布尔型变量进行运算的运算符是逻辑运算符，其返回结果是布尔类型。  
逻辑运算符如下表所示：

| 名称  | 运算符 | 说明                                          | 示例              |
|:---:|:---:|:-------------------------------------------:|:---------------:|
| 逻辑非 | not | 取反，若操作数是True，则返回False；反之，若操作数是False，则返回True | not flag        |
| 逻辑与 | and | 左操作数和右操作数都为True，则返回True，否则返回False           | flag1 and flag2 |
| 逻辑或 | or  | 左操作数和右操作数都为False，则返回False，否则返回True          | flag1 or flag2  |

其中，逻辑与中有种特殊情况是短路与，当左操作数为False时，不再计算右操作数，直接返回False；逻辑或中有种特殊情况是短路或，当左操作数为True时，不再计算右操作数，直接返回True。  
示例代码如下：

```python
# 逻辑非 not
print(not True)
# False
print(not False)
# True

# 逻辑与 and
print(True and True)
# True
print(False and False)
print(False and True)
print(True and False)
# 以上三种结果一致
# False

# 逻辑或 or
print(True or False)
print(False or True)
print(True or True)
# 以上三种结果一致
# True
print(False or False)
# False
```

## 5. 位运算符<a name="5"></a>

用二进制单位进行运算的运算符是位运算符，其操作数和结果均为整数类型。  
位运算符如下表所示：

| 名称  | 运算符 | 说明                    | 示例           |
|:---:|:---:|:---------------------:|:------------:|
| 位反  | ~   | 将操作数的值按位取反            | ~ num        |
| 位与  | &   | 左操作数和右操作数按位进行位与运算     | num1 & num2  |
| 位或  | \|  | 左操作数和右操作数按位进行位或运算     | num1 \| num2 |
| 位异或 | ^   | 左操作数和右操作数按位进行位异或运算    | num1 ^ num2  |
| 右移  | \>> | 左操作数右移右操作数个位，高位用符号位补位 | num << 2     |
| 左移  | <<  | 左操作数左移右操作数个位，低位用0补位   | num >> 2     |


示例代码如下：

```python
# 十进制 2
num1 = 0b010
# 十进制 5
num2 = 0b101
print(~ num1)
# -3
print(~ num2)
# -6
print(num1 & num2)
# 0
print(num1 | num2)
# 7
print(num1 ^ num2)
# 7
print(num1 >> 2)
# 0
print(num2 >> 2)
# 1
print(num1 << 2)
# 8
print(num2 << 2)
# 20
```

## 6. 赋值运算符<a name="6"></a>

算术运算符和位运算中的二元运算符有对应的赋值运算符。  
赋值运算符如下表所示：

| 名称    | 运算符  | 说明          | 示例           |
|:-----:|:----:|:-----------:|:------------:|
| 加赋值   | +=   | 等价于先 + 后 =  | num += num1  |
| 减赋值   | -=   | 等价于先 - 后 =  | num -= num1  |
| 乘赋值   | *=   | 等价于先 * 后 =  | num *= num1  |
| 除赋值   | /=   | 等价于先 / 后 =  | num /= num1  |
| 取余赋值  | %=   | 等价于先 % 后 =  | num %= num1  |
| 幂赋值   | **=  | 等价于先 ** 后 = | num **= num1 |
| 整除赋值  | //=  | 等价于先 // 后 = | num //= num1 |
| 位与赋值  | &=   | 等价于先 & 后 =  | num &= num1  |
| 位或赋值  | \|=  | 等价于先 \| 后 = | num \|= num1 |
| 位异或赋值 | ^=   | 等价于先 ^ 后 =  | num ^= num1  |
| 左移赋值  | <<=  | 等价于先 << 后 = | num <<= 2    |
| 右移赋值  | \>>= | 等价于先 >> 后 = | num >>= 2    |


## 7. 运算符的优先级<a name="7"></a>

在位运算中，大体的优先级为：算术运算符 → 位运算符 → 关系运算符 → 逻辑运算符 → 赋值运算符 
运算符的优先级如下表所示：

| 优先级 | 运算符                      | 说明        |
|:---:|:------------------------:|:---------:|
| 1   | ()                       | 小括号       |
| 2   | **                       | 幂         |
| 3   | ~                        | 位反        |
| 4   | +, -                     | 正负号       |
| 5   | *, /, %, //              | 乘、除、取余、整除 |
| 6   | +, -                     | 加、减       |
| 7   | <<, >>                   | 位移        |
| 8   | &                        | 位与        |
| 9   | ^                        | 位异或       |
| 10  | \|                       | 位或        |
| 11  | <, <=, >, >=, <>, !=, == | 比较        |
| 12  | not                      | 逻辑非       |
| 13  | and, or                  | 逻辑与、逻辑或   |

